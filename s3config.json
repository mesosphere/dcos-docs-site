{
  "ErrorDocument": {
    "Key": "404/index.html"
  },
  "IndexDocument": {
    "Suffix": "index.html"
  },
  "RoutingRules": [
    {
      "Condition": { "KeyPrefixEquals": "1.7/" },
      "Redirect": { "ReplaceKeyPrefixWith": "1.7", "HttpRedirectCode": "301" }
    },
    {
      "Condition": { "KeyPrefixEquals": "1.8/" },
      "Redirect": { "ReplaceKeyPrefixWith": "1.8", "HttpRedirectCode": "301" }
    },

    {
      "Condition": { "KeyPrefixEquals": "mesosphere/dcos/latest/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/2.1/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "ksphere/konvoy/latest/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "ksphere/konvoy/1.5/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "ksphere/dispatch/latest/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "ksphere/dispatch/1.2/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "ksphere/kommander/latest/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "ksphere/kommander/1.1/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "ksphere/conductor/latest/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "ksphere/conductor/1.1/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "ksphere/kubeflow/latest/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "ksphere/kubeflow/1.0.1-0.5.0/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/cassandra/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/cassandra/2.9.0-3.11.6/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/confluent-kafka/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/confluent-kafka/2.9.0-5.4.0/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/confluent-zookeeper/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/confluent-zookeeper/2.7.0-5.1.2e/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/couchbase/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/couchbase/1.0.1-6.0.0/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/data-science-engine/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/data-science-engine/2.0.1/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/dse/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/dse/3.2.0-6.7.7/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/edge-lb/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/edge-lb/1.6/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/elastic/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/elastic/3.1.2-7.6.0/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/hdfs/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/hdfs/2.8.0-3.2.1/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/jenkins/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/jenkins/4.0.0-2.204.6/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/kafka/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/kafka/2.10.0-2.4.0/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/kubernetes/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/kubernetes/2.8.0-1.19.2/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/kafka-zookeeper/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/kafka-zookeeper/2.6.0-3.4.14/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/marathon-lb/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/marathon-lb/1.15/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/minio/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/minio/0.1.2/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/nifi/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/nifi/1.0.1-1.9.2/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/percona-server-mongodb/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/percona-server-mongodb/0.4.2-3.6.10/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/prometheus/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/prometheus/0.1.1-2.3.2/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/pxc/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/pxc/0.2.1-5.7.21/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/spark/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/spark/2.11.0-2.4.6/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/spinnaker/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/spinnaker/0.3.2-1.9.2/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/storage/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/storage/1.0.0/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/beta-storage/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/storage/1.0.0/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/dcos-monitoring/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/dcos-monitoring/1.4.0/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/beta-jupyter/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/beta-jupyter/1.2.0-0.33.7-beta/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/cn/services/kubernetes/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/cn/services/kubernetes/1.2.1-1.10.6/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/hive-metastore/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/hive-metastore/1.2.0-3.0.0/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/beta-jenkins/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/beta-jenkins/4.0.0-2.204.2-beta/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": {
        "KeyPrefixEquals": "mesosphere/dcos/services/beta-kafka/latest/"
      },
      "Redirect": {
        "ReplaceKeyPrefixWith": "mesosphere/dcos/services/beta-kafka/2.10.0-2.4.0-beta/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "ksphere/konvoy/1.5/tutorials/replacing-failed-control-plane-node/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "ksphere/konvoy/1.5/troubleshooting/replace-failed-control-plane-node/",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "ksphere/kommander/latest/operations/cloud-providers" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "ksphere/kommander/latest/operations/infrastructure-providers",
        "HttpRedirectCode": "307"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "service-docs/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "/services/",
        "HttpRedirectCode": "301"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "docs/" },
      "Redirect": { "ReplaceKeyPrefixWith": "/", "HttpRedirectCode": "301" }
    },
    {
      "Condition": { "KeyPrefixEquals": "pages/services/edge-lb/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "/services/edge-lb/",
        "HttpRedirectCode": "301"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "pages/services/marathon-lb/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "/services/marathon-lb/services/edge-lb/",
        "HttpRedirectCode": "301"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "services/kafka/configure/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "/services/kafka/kafka-auth/",
        "HttpRedirectCode": "301"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "services/overview/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "/services/",
        "HttpRedirectCode": "301"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "support" },
      "Redirect": {
        "HostName": "support.d2iq.com",
        "Protocol": "https",
        "HttpRedirectCode": "301"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "([0-9]+\\.[0-9]+/.*)$" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "/mesosphere/dcos/",
        "HttpRedirectCode": "301"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "services/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "/mesosphere/dcos/services/",
        "HttpRedirectCode": "301"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "version-policy/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "/mesosphere/dcos/version-policy/",
        "HttpRedirectCode": "301"
      }
    },
    {
      "Condition": { "KeyPrefixEquals": "search/" },
      "Redirect": {
        "ReplaceKeyPrefixWith": "/mesosphere/dcos/search/",
        "HttpRedirectCode": "301"
      }
    }
  ]
}
