---
layout: layout.pug
navigationTitle:  Configuration Parameters (1.2)
title: Configuration Parameters (1.2)
menuWeight: 0
excerpt:
featureMaturity:
enterprise: true
---




Here are the <span class="caps">DCOS</span> cluster configuration parameters. The <span class="caps">DCOS</span> build uses these parameters to create a customized install.

# Parameters

<a name="bootstrap-url"></a>bootstrap_url <!-- optional -->


:   This parameter specifies the path to the customized <span class="caps">DCOS</span> build files. This location can be local (`"bootstrap_url":"file:///tmp/dcos"`) or hosted (`http://<your-web-server>`). The <span class="caps">DCOS</span> installer uses this path to locate the <span class="caps">DCOS</span> build files.

<a name="cluster-name"></a>cluster_name

:   This parameter specifies the name of your cluster. For example, `"cluster_name": "zk-example"`.

<a name="docker-remove"></a>docker_remove_delay <!-- optional -->


:   *For <span class="caps">DCOS</span> <span class="caps">1.3</span> and later:* This parameter specifies the amount of time to wait before removing the Docker image generated by the installer. It is recommended that you accept the default value 1 hour.

<a name="gc-delay"></a>gc_delay <!-- optional -->


:   *For <span class="caps">DCOS</span> <span class="caps">1.3</span> and later:* This parameter specifies th maximum amount of time to wait before cleaning up the executor directories. It is recommended that you accept the default value of 2 days.

<a name="ip-detect"></a>ip_detect_filename <!-- optional -->


:   *For <span class="caps">DCOS</span> <span class="caps">1.3</span> and later:* This parameter specifies the filename of your <span class="caps">IP</span> detect script. For example, `"ip_detect_filename":"ip-detect"`.

<a name="exhibitor-storage"></a>exhibitor_storage_backend

:   This parameter specifies the name of Exhibitor storage backend. During <span class="caps">DCOS</span> installation, a storage system is required for configuring and orchestrating Zookeeper with Exhibitor on the master nodes. Exhibitor automatically configures your Zookeeper installation on the master nodes during your <span class="caps">DCOS</span> installation. The available options are `zookeeper`, `aws_s3`, and `shared_filesystem`:
    
    *   zookeeper
        :   
        
        *   exhibitor_zk_hosts
            :   This parameter specifies a comma-separated list of one or more Zookeeper node <span class="caps">IP</span> addresses to use for configuring the internal Exhibitor instances. Exhibitor uses this Zookeeper cluster to orchestrate it’s configuration.
        
        *   exhibitor_zk_path
            :   This parameter specifies the filepath that Exhibitor uses to store data, including the zoo.cfg file.
        
        Here is a zookeeper example:
        
            "exhibitor_storage_backend": "zookeeper",
                "exhibitor_zk_hosts": "10.10.10.1:2181",
                "exhibitor_zk_path": "/zk-example",
            
    
    *   aws_s3
        :   
        
        *   aws_access_key_id
            :   This parameter specifies <span class="caps">AWS</span> key <span class="caps">ID.</span>
        
        *   aws_region
            :   This parameter specifies <span class="caps">AWS</span> region for your <span class="caps">S3</span> bucket.
        
        *   aws_secret_access_key
            :   This parameter specifies <span class="caps">AWS</span> secret access key.
        
        *   s3_bucket
            :   This parameter specifies name of your <span class="caps">S3</span> bucket.
        
        *   s3_prefix
            :   This parameter specifies <span class="caps">S3</span> prefix to be used within your <span class="caps">S3</span> bucket to be used by Exhibitor.
        
        Here is an aws_s3 example:
        
            "exhibitor_storage_backend": "aws_s3",
               "aws_access_key_id": "AKIAIOSFODNN7EXAMPLE",
               "aws_secret_access_key": "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY",
               "aws_region": "us-west-2",
               "s3_bucket": "mybucket",
               "s3_prefix": "s3-example",
            
    
    *   shared_filesystem
        :   
        
        *   exhibitor_fs_config_dir
            :   This parameter specifies the absolute path to the folder that Exhibitor uses to coordinate its configuration. This should be a directory inside of a Network File System (<span class="caps">NFS</span>) mount. For example, if every master has `/fserv` mounted via <span class="caps">NFS</span>, set as `"exhibitor_fs_config_dir": "/fserv/dcos-exhibitor"`.
            
            **Important:** With `shared_filesystem`, all masters must must have the <span class="caps">NFS</span> volume mounted and `exhibitor_fs_config_dir` must be inside of it. If any of your servers are missing the mount, the <span class="caps">DCOS</span> cluster will not start.
        
        Here is a shared_filesystem example:
        
            "exhibitor_storage_backend": "shared_filesystem",
                "exhibitor_fs_config_dir": "/shared-mount",
            

<a name="master"></a>master_discovery

:   This parameter specifies the Mesos master discovery method:

<!-- Removed. It only does stuff for AWS, Azure currently. Cody 10/21/15 
- cloud_dynamic
  : For cloud environment only: Use an external proxy for the masters that lives at a static IP, for example, haproxy or NGINX. For example, `"master_discovery":"cloud_dynamic"`. -->

*   static : Use the Mesos agents to discover the masters by giving each agent a static list of master IPs. The masters must not change <span class="caps">IP</span> addresses, and if a master is replaced, the new master must take the old master’s <span class="caps">IP</span> address. For example, `"master_discovery":"static"`. * master_list : *For <span class="caps">DCOS</span> <span class="caps">1.3</span> and later:* Specify a <span class="caps">JSON</span>-formatted list of your static master <span class="caps">IP</span> addresses. This must be specified in <span class="caps">JSON</span> list format. For example, `"master_list": "["172.17.10.101", "172.17.10.102", "172.17.10.103"]"`.

<!-- REmoved CM3. 
- vrrp
  : *For DC/OS 1.3 and later:* Use keepalived with a VIP. You are required to maintain this VIP infrastructure. For example, `"master_discovery":"vrrp"`.
  
  - keepalived_router_id
    : Specify the virtual router ID of the keepalived cluster. You must use the same virtual router ID across your cluster. For example, `"keepalived_router_id":"51"`.
     
  - keepalived_interface
    : Specify the interface that keepalived uses. For example, `"keepalived_interface":"eth1"`.
    
  - keepalived_pass
    : If you've set your auth to PASS, specify the same password that you set in your configuration file. For example, `"keepalived_pass":"$MY_STRONG_PASSWORD"`.
    
  - keepalived_virtual_ipaddress
    : Specify the VIP in use by your keepalived cluster. For example, `"keepalived_virtual_ipaddress":"67.34.242.55"`. -->

<!-- 
<a name="master-lb"></a>master_lb
<!-- master_lb "it depends" on what you set "master_discovery" to. this is deprecated in CM.3 

: *For DC/OS 1.2 and earlier:* This parameter specifies the IP address of the load balancer in front of the Mesos masters that distributes workloads. This address is used to access the DC/OS web interface. For example, `"master_lb": "10.10.20.1"`. -->

<a name="num-masters"></a>num_masters

:   This parameter specifies the number of Mesos masters in your <span class="caps">DCOS</span> cluster. For example, `"num_masters": 3`.

<a name="release_name"></a>release_name

:   *For <span class="caps">DCOS</span> <span class="caps">1.2</span> and earlier:* This parameter specifies the release name. For example, `"release_name":"mycluster"`.

<a name="repository-url"></a>repository_url

:   *For <span class="caps">DCOS</span> <span class="caps">1.2</span> and earlier:* This parameter specifies the <span class="caps">HTTP</span> location that the hosts tarball (`/tmp/bootstrap.tar.xz`) uses to download. For example, `"repository_url":"file:///tmp/dcos"`.

<a name="resolvers"></a>resolvers

:   This required parameters specifies a <span class="caps">JSON</span>-formatted list of <span class="caps">DNS</span> resolvers for your <span class="caps">DCOS</span> host nodes or accept the default value of `["8.8.8.8"]`. Set this parameter to the most authoritative nameservers that you have. If you want to resolve internal hostnames, set it to a nameserver that can resolve them. If you have no internal hostnames to resolve, it is acceptable to set this to a public nameserver like Google or <span class="caps">AWS.</span> For example, `"resolvers": "["8.8.8.8", "8.8.4.4"]"`.
    
    *Caution:* If you set the `resolvers` parameter incorrectly, you will permanently damage your configuration and have to reinstall <span class="caps">DCOS.</span>

<a name="roles"></a>roles

:   This parameter specifies the Mesos roles to delegate to this node or accept the default value of `"slave_public"`:

*   slave_public
    :   Runs the public agent node. This is the default value. For example, `"roles":"slave_public"`.

*   master
    :   Runs the master node. For example, `"roles":"master"`.

*   slave
    :   Runs the private agent node. For example, `"roles":"slave"`.

For more information, see <a href="https://open.mesosphere.com/reference/mesos-master/#roles" target="_blank">Mesos roles</a>.

<a name="weights"></a>weights
<!-- optional -->
:   This parameter specifies the priority of the role or accept the default value of `"weights": "slave_public=1"`. For more information, see <a href="https://open.mesosphere.com/reference/mesos-master/#weights" target="_blank">Mesos weights</a>.

# JSON configuration files examples

#### <span class="caps">JSON</span> configuration for shared file system storage backend {#json-configuration-for-shared-file-system-storage-backend}

1.  Customize this `config.json` template file for your environment.
    
        {
        "bootstrap_url":"file:///tmp/dcos",
        "cluster_name": "<cluster-name>",
        "exhibitor_fs_config_dir":"<path-to-exhibitor-config>",
        "exhibitor_storage_backend":"shared_filesystem",
        "master_discovery":"static",
        "master_list":"["<master-ip-1>","<master-ip-2>","<master-ip-3>"]",
        "resolvers": "["<dns-resolver-1>"]"
        }
        

2.  Specify these parameters for your environment.
    
    *   bootstrap_url
        :   Specify the path to the customized <span class="caps">DCOS</span> build files, where `<workstation_ip>` is your workstation <span class="caps">IP</span> address and `<your_port>` is an accessible port other than port 80. All of the nodes that you want to connect to must be able to access the `<workstation_ip>`. The <span class="caps">DCOS</span> installer uses this path to locate the <span class="caps">DCOS</span> build files.
    
    *   <a name="cluster-name"></a>cluster_name
        :   Specify the name of your cluster.
    
    *   exhibitor_fs_config_dir
        :   Specify the absolute path to the folder that Exhibitor uses to coordinate its configuration. This should be a directory inside of a Network File System (<span class="caps">NFS</span>) mount. For example, if every master has /fserv mounted via <span class="caps">NFS</span>, set as `"exhibitor_fs_config_dir": "/fserv/dcos-exhibitor"`.
    
    *   exhibitor_zk_hosts
        :   Specify a comma-separated list of one or more Zookeeper node <span class="caps">IP</span> addresses to use for configuring the internal Exhibitor instances. Exhibitor uses this Zookeeper cluster to orchestrate it’s configuration.
    
    *   master_list
        :   Specify a <span class="caps">JSON</span>-formatted list of your static master <span class="caps">IP</span> addresses. This must be specified in <span class="caps">JSON</span> list format. You must include the escape characters (``) as shown in the template.
    
    *   <a name="resolvers"></a>resolvers
        :   Specify a <span class="caps">JSON</span>-formatted list of <span class="caps">DNS</span> servers for your <span class="caps">DCOS</span> host nodes. You must include the escape characters (``) as shown in the template. Set this parameter to the most authoritative nameservers that you have. If you want to resolve internal hostnames, set it to a nameserver that can resolve them.
        
        *Caution:* If you set the `resolvers` parameter incorrectly, you will permanently damage your configuration and have to reinstall <span class="caps">DCOS.</span>

3.  Save as `genconf/config.json`.

#### <a name="zk"></a><span class="caps">DCOS</span> cluster with 3 masters, Exhibitor/Zookeeper backed by another Zookeeper instance, Google <span class="caps">DNS</span>, bootstrap host running NGINX to distribute binaries {#a-namezkadcos-cluster-with-3-masters-exhibitorzookeeper-backed-by-another-zookeeper-instance-google-dns-boostrap-host-running-nginx-to-distribute-binaries}

    {
        "cluster_name": "zk-example",
        "exhibitor_storage_backend": "zookeeper",
        "exhibitor_zk_hosts": "10.10.10.1:2181",
        "exhibitor_zk_path": "/zk-example",
        "bootstrap_url":"http://10.10.10.1/serve",
        "master_discovery":"static",
        "master_list": "["10.0.0.2","10.0.0.3","10.0.0.4"]",
        "resolvers": "["8.8.8.8", "8.8.4.4"]",
        "roles": "slave_public",
        "weights": "slave_public=1"
    }
    

#### <a name="zk"></a><span class="caps">DCOS</span> cluster with 3 masters, Exhibitor/Zookeeper backed by another Zookeeper instance, Google <span class="caps">DNS</span> {#a-namezkadcos-cluster-with-3-masters-exhibitorzookeeper-backed-by-another-zookeeper-instance-google-dns}

    {
        "cluster_name": "zk-example",
        "num_masters": 3,
        "exhibitor_storage_backend": "zookeeper",
        "exhibitor_zk_hosts": "10.10.10.1:2181",
        "exhibitor_zk_path": "/zk-example",
        "repository_url":"file:///tmp/dcos",
        "bootstrap_url":"file:///tmp/dcos",
        "master_discovery":"vrrp",
        "keepalived_router_id":"51",
        "keepalived_interface":"eth1",
        "keepalived_pass":"$MY_STRONG_PASSWORD",
        "keepalived_virtual_ipaddress":"67.34.242.55",
        "resolvers": "["8.8.8.8", "8.8.4.4"]",
        "master_lb": "10.10.20.1",
        "roles": "slave_public",
        "weights": "slave_public=1"
    }
    

#### <a name="shared"></a><span class="caps">DCOS</span> cluster with 3 masters, Exhibitor/Zookeeper backed by a shared filesystem mount, Internal <span class="caps">DNS</span> {#a-namesharedadcos-cluster-with-3-masters-exhibitorzookeeper-backed-by-a-shared-filesystem-mount-internal-dns}

    {
        "cluster_name": "fs-example",
        "num_masters": 3,
        "exhibitor_storage_backend": "shared_filesystem",
        "exhibitor_fs_config_dir": "/shared-mount",
        "repository_url":"file:///tmp/dcos",
        "bootstrap_url":"file:///tmp/dcos",
        "resolvers": "["10.10.5.1", "10.10.6.1"]",
        "master_lb": "10.10.20.1",
        "roles": "slave_public",
        "weights": "slave_public=1"
    }
    

#### <a name="aws"></a><span class="caps">DCOS</span> Cluster with 3 masters, Exhibitor/Zookeeper backed by an <span class="caps">AWS</span> <span class="caps">S3</span> bucket, and <span class="caps">AWS</span> <span class="caps">DNS</span> {#a-nameawsadcos-cluster-with-3-masters-exhibitorzookeeper-backed-by-an-aws-s3-bucket-and-aws-dns}

    {
        "cluster_name": "s3-example",
        "num_masters": 3,
        "exhibitor_storage_backend": "aws_s3",
        "aws_access_key_id": "AKIAIOSFODNN7EXAMPLE",
        "aws_secret_access_key": "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY",
        "aws_region": "us-west-2",
        "s3_bucket": "mybucket",
        "s3_prefix": "s3-example",
        "repository_url":"file:///tmp/dcos",
        "bootstrap_url":"file:///tmp/dcos",
        "resolvers": "["169.254.169.253"]",
        "master_lb": "10.10.20.1",
        "roles": "slave_public",
        "weights": "slave_public=1"
    }